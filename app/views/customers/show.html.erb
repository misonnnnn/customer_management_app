<div class="container">
  <div class="row">
    <div class="col-md-8 mx-auto bg-light p-3 shadow-sm rounded-3">
      <p style="color: green"><%= notice %></p>

      <%= render @customer %>

      <div>
        <%= link_to "Edit this customer", edit_customer_path(@customer) %> |
        <%= link_to "Back to customers", customers_path %>

        <%= button_to "Delete this customer", @customer, method: :delete, class: "btn btn-sm btn-danger", onclick: "return confirm('Are you sure you want to delete this customer?');" %>
        
        <div>
          <%= form_with url: toggle_status_customer_path(@customer), method: :patch, local: true do %>
            <div class="form-check form-switch" >
              <input
                class="form-check-input"
                type="checkbox"
                name="status_toggle"
                id="flexSwitchCheckChecked"
                <%= 'checked' if @customer.active? %>
                onchange="if(confirm('Are you sure you want to toggle this customer\'s status?')) { this.form.submit(); } else { this.checked = !this.checked; }"
              />
              <label class="form-check-label" for="flexSwitchCheckChecked">Status: 
              <%= (@customer.active? ? '<span class="badge bg-success">Active</span>' : '<span class="badge bg-danger">Inactive</span>').html_safe %>
              </label>
            </div>
          <% end %>
        </div>
      </div>

    </div>
  </div>

</div>